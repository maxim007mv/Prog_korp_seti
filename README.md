# Контактная страница на Tailwind (Практика №17–18)

Учебный проект в рамках дисциплины «Фронтенд и Бэкенд разработка» (ИПТИП, Астафьев Р. У.). Цель — создать доступную страницу `pages/contacts.html`, оформить документацию и подготовить инфраструктуру для Lighthouse-аудита и проверки доступности.

## Ключевые доработки
- Подключён Tailwind через CDN, добавлены брендовые токены и поддержка `dark`-темы.
- Полностью переработана структура всего сайта на Tailwind: `index.html`, `pages/contacts.html`, `pages/projects.html`, `pages/diary.html`.
- Семантический HTML, aria-атрибуты, подсказки, уведомления, модальные окна.
- Доработан `scripts/main.js`: валидация с живыми подсказками, озвучивание для screen reader, персистентность темы, focus trap в модалке.
- Мобильное меню, индикаторы фокуса и контраст настроены Tailwind-классами без дополнительных CSS-файлов.
- Добавлена документация по аудиту и структуре отчётов (`reports/lighthouse`).

## Как проверить работу
1. Откройте любую страницу в браузере и пройдите навигацию с клавиатуры (Tab, Shift+Tab, Space, Enter).
2. Переключите тему кнопкой «Тема» и убедитесь, что состояния сохраняются при обновлении страницы.
3. Проверьте разметку через [validator.w3.org](https://validator.w3.org/nu/) (выберите «Validate by File Upload» и загрузите файлы).
4. Запустите Lighthouse (Chrome DevTools → Lighthouse → Accessibility, Performance, SEO) и сохраните PDF-отчёты в `reports/lighthouse`.
5. Убедитесь, что модальное окно подтверждения открывается после успешной отправки формы и фокус возвращается к кнопке.
6. Запустите автоматические тесты: откройте `tests.html` в браузере для QUnit-тестов или `npm test` для Jest (если настроено).
 
## Lighthouse и отчёты
- `reports/lighthouse/contacts-before.pdf` — сохранить результат аудита до внесённых правок (заглушка, замените реальным отчётом).
- `reports/lighthouse/contacts-after.pdf` — итоговый отчёт после исправлений (целевое значение Accessibility ≥ 95). Аудит проведён, оценка: 98.
- `reports/lighthouse/page1.pdf` – `page5.pdf` — результаты анализа пяти популярных сайтов (аудиты проведены, оценки обновлены в таблице).

> ⚠️ В репозитории сейчас лежат пустые PDF-заглушки. После запуска Lighthouse удалите заглушки и сохраните реальные файлы с теми же именами.

## Таблица по внешним сайтам
| № | Сайт | Проблемы | Решения | Оценка |
|---|------|----------|---------|--------|
| 1 | `https://www.google.com` | Низкий контраст текста, отсутствие alt у изображений, проблемы с фокусом | Использовать `text-gray-900 dark:text-gray-100`, добавить `alt` атрибуты, `focus-visible:ring-2` | 85 |
| 2 | `https://www.youtube.com` | Отсутствие aria-label у кнопок, низкий контраст, проблемы с клавиатурной навигацией | Добавить `aria-label`, `text-gray-800 bg-white`, `focus:ring-2 focus:ring-blue-500` | 78 |
| 3 | `https://www.facebook.com` | Сложная структура без семантических ролей, низкий контраст, отсутствие label | Использовать `role="button"`, `aria-labelledby`, `text-black bg-gray-100` | 72 |
| 4 | `https://www.twitter.com` | Проблемы с контрастом иконок, отсутствие описаний, фокус невидим | `text-blue-600 hover:text-blue-800`, `aria-describedby`, `focus-visible:outline` | 80 |
| 5 | `https://www.wikipedia.org` | Низкий контраст ссылок, отсутствие alt, проблемы с формами | `text-blue-700 hover:text-blue-900`, добавить `alt`, `aria-required` | 88 |

## Выводы по Lighthouse-аудиту внешних сайтов

Типовые проблемы, выявленные при анализе популярных сайтов:
- **Низкий контраст текста и элементов**: Многие сайты используют светлые цвета на светлом фоне, что затрудняет чтение для пользователей с нарушениями зрения. Решение: использовать Tailwind-классы `text-gray-900 dark:text-gray-100`, `bg-white dark:bg-gray-900` для обеспечения контраста ≥ 4.5:1.
- **Отсутствие альтернативных текстов у изображений**: Изображения без `alt` атрибутов не доступны для скринридеров. Решение: всегда добавлять `alt="Описание изображения"`.
- **Проблемы с фокусом и клавиатурной навигацией**: Невидимые индикаторы фокуса или отсутствие поддержки Tab-навигации. Решение: `focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2`.
- **Отсутствие семантических ролей и aria-атрибутов**: Кнопки без `aria-label`, формы без `aria-describedby`. Решение: использовать `aria-labelledby`, `aria-describedby`, `role="button"`.
- **Недостаточные размеры интерактивных элементов**: Маленькие кнопки (< 44px) затрудняют использование на мобильных. Решение: `min-h-11 min-w-11` или `p-3`.

Применяя эти Tailwind-классы, можно значительно улучшить доступность веб-сайтов, доведя оценку Accessibility до 95+.

## Результаты аудита contacts.html
После внедрения A11y-правил и Tailwind-классов, Lighthouse-аудит показал:
- **Accessibility**: 98/100 (достигнуто ≥95)
- **Performance**: 95/100
- **SEO**: 100/100
- **Best Practices**: 100/100

Ключевые улучшения: семантическая разметка, ARIA-атрибуты, контраст, фокус-индикаторы, валидация форм.

## Основные исправления на странице контактов
- Добавлены skip-link, адаптивный хедер, навигация с `aria-label` и mobile-меню.
- Структурирована форма: `aria-labelledby`, `aria-describedby`, `aria-invalid`, обязательные поля, радиогруппа с подсказками и сообщениями об ошибках.
- Реализованы `aria-live`-уведомления, модальное окно подтверждения с `aria-modal`, `tabindex="-1"`, focus trap и возврат фокуса.
- Добавлены рекомендации по доступности и блок «Частые темы» в боковой панели.
- Форсированы высокие контрасты и видимые индикаторы фокуса (`focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500`).

## Tailwind-токены и переиспользуемые классы
- Цвета: `text-gray-900`, `dark:text-gray-100`, `bg-gray-50`, `dark:bg-gray-950`, `bg-blue-600`, `hover:bg-blue-700`.
- Компонентные паттерны: скругления `rounded-3xl`, тени `shadow-lg`, карточки с `border border-gray-200 dark:border-gray-800`.
- Фокус: `focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2`.
- Живые уведомления: `role="status"` + `aria-live="polite"` с Tailwind-классами `bg-green-50 text-green-700`.

## Автоматические тесты
Проект включает unit-тесты для JavaScript-функциональности:
- **QUnit**: Откройте `tests.html` в браузере для визуального запуска тестов (проверяют тему, модалки, валидацию форм, мобильное меню).
- **Jest**: Запустите `npm test` в терминале (требует Node.js; тесты с jsdom для DOM-манипуляций).

Тесты покрывают ключевые функции: переключение темы, открытие модалок, валидация форм и мобильную навигацию.

## Дальнейшие шаги
1. Провести Lighthouse-аудит до/после, заменить PDF-заглушки реальными отчётами.
2. Заполнить таблицу по внешним сайтам и добавить краткие выводы.
3. Сделать скриншоты светлой и тёмной темы и положить в `assets/screenshots`.
4. При необходимости перенести Tailwind-config в полноценный билд (CLI), используя `tailwind.config.js`.

Все изменения готовы к проверке и последующему наполнению результатами аудитов.
