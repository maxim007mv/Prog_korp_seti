# ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞!

## üìä –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –∫ –≤–∞—à–µ–º—É –ø—Ä–æ–µ–∫—Ç—É Restaurant Management System.

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
- **–•–æ—Å—Ç**: `localhost`
- **–ü–æ—Ä—Ç**: `5432`
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: `restaurant_db`
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: `postgres`
- **–ü–∞—Ä–æ–ª—å**: `postgres123`

### –°—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
```
Host=localhost;Port=5432;Database=restaurant_db;Username=postgres;Password=postgres123
```

## üìÅ –§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —É–∫–∞–∑–∞–Ω—ã –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Ñ–∞–π–ª–∞—Ö:

1. **appsettings.json**
   - –ü—É—Ç—å: `backend/Restaurant.Api/appsettings.json`
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è Production –æ–∫—Ä—É–∂–µ–Ω–∏—è

2. **appsettings.Development.json**
   - –ü—É—Ç—å: `backend/Restaurant.Api/appsettings.Development.json`
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è Development –æ–∫—Ä—É–∂–µ–Ω–∏—è

3. **DependencyInjection.cs**
   - –ü—É—Ç—å: `backend/Restaurant.Infrastructure/DependencyInjection.cs`
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Entity Framework Core —Å Npgsql

## üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã (17 —Ç–∞–±–ª–∏—Ü):

| ‚Ññ | –¢–∞–±–ª–∏—Ü–∞ | –ó–∞–ø–∏—Å–µ–π | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---------|---------|----------|
| 1 | `__EFMigrationsHistory` | 3 | –ò—Å—Ç–æ—Ä–∏—è –º–∏–≥—Ä–∞—Ü–∏–π EF Core |
| 2 | `ai_recommendations` | 0 | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ AI |
| 3 | `ai_requests` | 0 | –ó–∞–ø—Ä–æ—Å—ã –∫ AI |
| 4 | `bookings` | 297 | –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–æ–ª–æ–≤ |
| 5 | `clients` | 0 | –ö–ª–∏–µ–Ω—Ç—ã |
| 6 | `daily_digests` | 0 | –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –æ—Ç—á—ë—Ç—ã |
| 7 | `dish_categories` | 6 | –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –±–ª—é–¥ |
| 8 | `dish_forecasts` | 0 | –ü—Ä–æ–≥–Ω–æ–∑—ã –ø–æ –±–ª—é–¥–∞–º |
| 9 | `dish_type_links` | 0 | –°–≤—è–∑—å –±–ª—é–¥ –∏ —Ç–∏–ø–æ–≤ |
| 10 | `dish_types` | 0 | –¢–∏–ø—ã –±–ª—é–¥ |
| 11 | `dishes` | 1022 | –ë–ª—é–¥–∞ –º–µ–Ω—é |
| 12 | `order_items` | 4622 | –ü–æ–∑–∏—Ü–∏–∏ –∑–∞–∫–∞–∑–æ–≤ |
| 13 | `orders` | 1273 | –ó–∞–∫–∞–∑—ã |
| 14 | `preorders` | 0 | –ü—Ä–µ–¥–∑–∞–∫–∞–∑—ã |
| 15 | `tables` | 26 | –°—Ç–æ–ª—ã —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ |
| 16 | `users` | 13 | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã |
| 17 | `waiters` | 10 | –û—Ñ–∏—Ü–∏–∞–Ω—Ç—ã |

## üöÄ –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### ‚úÖ –£—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:

1. **–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã NuGet –ø–∞–∫–µ—Ç—ã:**
   - ‚úÖ `Npgsql.EntityFrameworkCore.PostgreSQL` v8.0.11
   - ‚úÖ `Microsoft.EntityFrameworkCore` v8.0.11
   - ‚úÖ `Microsoft.EntityFrameworkCore.Design` v8.0.11

2. **–°–æ–∑–¥–∞–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è:**
   - ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è `20251028175003_InitialCreate` —Å–æ–∑–¥–∞–Ω–∞
   - ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –æ—Ç–º–µ—á–µ–Ω–∞ –∫–∞–∫ –ø—Ä–∏–º–µ–Ω—ë–Ω–Ω–∞—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

3. **–ù–∞—Å—Ç—Ä–æ–µ–Ω DbContext:**
   - ‚úÖ `AppDbContext` –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PostgreSQL
   - ‚úÖ –í—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏ (Entities) —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω—ã —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏
   - ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –∏ —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏

4. **–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω:**
   - ‚úÖ Backend API —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ `http://localhost:3001`
   - ‚úÖ Swagger UI –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:3001/swagger`

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î:
```powershell
# Python —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
python backend/test_connection.py
```

### Entity Framework –∫–æ–º–∞–Ω–¥—ã:
```powershell
cd backend/Restaurant.Api

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ EF
dotnet ef --version

# –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –º–∏–≥—Ä–∞—Ü–∏—é
dotnet ef migrations add MigrationName --project ..\Restaurant.Infrastructure

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
dotnet ef database update --project ..\Restaurant.Infrastructure

# –û—Ç–∫–∞—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
dotnet ef database update PreviousMigrationName --project ..\Restaurant.Infrastructure

# –£–¥–∞–ª–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é –º–∏–≥—Ä–∞—Ü–∏—é
dotnet ef migrations remove --project ..\Restaurant.Infrastructure
```

### –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞:
```powershell
cd backend/Restaurant.Api
dotnet run
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API —á–µ—Ä–µ–∑ Swagger:
–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://localhost:3001/swagger

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ psql:
```powershell
psql -h localhost -p 5432 -U postgres -d restaurant_db
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∞–±–ª–∏—Ü—ã —á–µ—Ä–µ–∑ pgAdmin 4:
1. –û—Ç–∫—Ä–æ–π—Ç–µ pgAdmin 4
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É `localhost`
3. –û—Ç–∫—Ä–æ–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö `restaurant_db`
4. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—ã –≤ —Ä–∞–∑–¥–µ–ª–µ `Schemas -> public -> Tables`

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ PostgreSQL 16.2
- –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –∏ –∏–Ω–¥–µ–∫—Å–∞–º–∏
- –í –±–∞–∑–µ —É–∂–µ –µ—Å—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (–±–ª—é–¥–∞, –∑–∞–∫–∞–∑—ã, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ç.–¥.)
- Entity Framework Core —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á—ë–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å PostgreSQL —á–µ—Ä–µ–∑ Npgsql

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å frontend:**
   ```powershell
   npm run dev
   ```

2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API:**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Swagger UI –Ω–∞ http://localhost:3001/swagger
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ endpoints –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–µ–Ω—é, –∑–∞–∫–∞–∑–∞–º–∏, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏

3. **–î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ endpoint `/api/auth/register`
   - –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —Ä–∞–∑–Ω—ã–º–∏ —Ä–æ–ª—è–º–∏ (–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä, –æ—Ñ–∏—Ü–∏–∞–Ω—Ç, –∫–ª–∏–µ–Ω—Ç)

---

**–î–∞—Ç–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:** 28 –æ–∫—Ç—è–±—Ä—è 2025 –≥.  
**–í–µ—Ä—Å–∏—è PostgreSQL:** 16.2  
**–í–µ—Ä—Å–∏—è .NET:** 8.0  
**–í–µ—Ä—Å–∏—è Entity Framework Core:** 8.0.11
